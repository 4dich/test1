<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="noticeMapper">
  
  	<!-- resultMap -->
  	<resultMap type="Notice" id="noticeResultSet">
  		<id property="nId" column="NID"/>
  		<result property="nTitle" column="NTITLE"/>
  		<result property="nWriter" column="NCONTENT"/>
  		<result property="nContent" column="NWRITER"/>
  		<result property="nCount" column="NCOUNT"/>
  		<result property="nCreateDate" column="NFILE"/>
  		<result property="nModifyDate" column="NDATE"/>
  		<result property="nStatus" column="NDEL_YN"/>
  	</resultMap>
  	
  	<!-- 공지사항 글 쓰기 -->
  	<insert id="insertNotice" parameterType="Notice">
  		INSERT INTO NOTICE
  		VALUES(SEQ_NID.NEXTVAL, #{nTitle}, #{nContent}, #{nWriter}, DEFAULT, DEFAULT, SYSDATE, DEFAULT)
  	</insert>
  	
  	<!-- 공지사항 글 수 확인하기 -->
  	<select id="getListCount" parameterType="_int">
  		SELECT COUNT(*)
  		FROM NOTICE
  		WHERE NDEL_YN='N'
  	</select>
  	
  	<!-- 공지사항 리스트 불러오기 -->
  	<select id="listNotice" resultMap="noticeResultSet">
  		SELECT *
  		FROM NOTICE
  		WHERE NDEL_YN='N'
  		ORDER BY NID DESC
  	</select>
  	
  </mapper>